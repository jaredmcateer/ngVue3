var ie=Object.defineProperty;var C=Object.getOwnPropertySymbols;var re=Object.prototype.hasOwnProperty,se=Object.prototype.propertyIsEnumerable;var P=(c,a,o)=>a in c?ie(c,a,{enumerable:!0,configurable:!0,writable:!0,value:o}):c[a]=o,$=(c,a)=>{for(var o in a||(a={}))re.call(a,o)&&P(c,o,a[o]);if(C)for(var o of C(a))se.call(a,o)&&P(c,o,a[o]);return c};var g=(c,a,o)=>(P(c,typeof a!="symbol"?a+"":a,o),o);(function(c,a){typeof exports=="object"&&typeof module!="undefined"?a(exports,require("angular"),require("vue")):typeof define=="function"&&define.amd?define(["exports","angular","vue"],a):(c=typeof globalThis!="undefined"?globalThis:c||self,a(c.ngVue3={},c.angular,c.Vue))})(this,function(c,a,o){"use strict";function k(e){return e&&typeof e=="object"&&"default"in e?e:{default:e}}var d=k(a);function y(e,n){return e&&d.default.isObject(e)?Object.keys(e).reduce((i,r)=>{const u=n.$eval(e[r]);return d.default.isFunction(u)?i[r]=function(){return n.$evalAsync(()=>u.apply(null,arguments))}:(i[r]=u,console.warn(`[ngVue] Bound a non-function as an event handler (${r})`)),i},{}):{}}function x(e,n){return e?Object.keys(e).reduce((i,r)=>(r==="__ngvue_props__"?Object.assign(i,n.$eval(e.__ngvue_props__)):i[r]=n.$eval(e[r]),i),{}):{}}function H(e){return e.constructor.name}const S={Object:e=>[e],Array:e=>e,String:e=>e.split(/\s*,\s*/g).filter(Boolean).map(n=>({name:n}))};function T(e,n){if(!e)return[];const t=n.$eval(e),i=S[H(t)];return i?i(t):[]}const w=["class","style"];function L(e,n){return w.reduce((t,i)=>(t[i]=e[i]||"",n(i),t),{})}const I=["vProps","vOn","vDirectives","watchDepth","ng",...w],R=new RegExp(`^(${I.join("|")})`,"i");function z(e){return Object.keys(e).filter(n=>{const t=R.test(n),i=n[0]==="$";return!(t||i)})}function B([e,...n]){return e.toLowerCase()+n.join("")}const D={vProps:"",vOn:"on"};Object.freeze(D);function F(e,n){const t=new RegExp(`^${n}`,"i");if(!t.test(e))return null;const i=e.replace(t,D[n]);return B(i)}const b={props:"vProps",on:"vOn"};Object.freeze(b);function G(e){return e in b}function m(e,n,t){let i=[],r,u,s={};if(G(e)){r=b[e];const l=n[r];l!==void 0&&(s.__ngvue_props__=l,t(r));const f=new RegExp(`^${r}.+`,"i");i=Object.keys(n).filter(p=>f.test(p)),u=(p,h)=>{const j=F(h,r);return j&&(p[j]=n[h],t(h)),p}}else i=z(n),u=(l,f)=>{const p=n.$attr[f];return l[p]=n[f]===""?`${f}`:n[f],t(f),l};return i.reduce(u,s)}function U(e,n){return{props:m("props",e,n)||{},events:m("on",e,n)||{},attrs:m("attrs",e,n)||{}}}function M(e,n,t,i={depth:"reference"}){if(!e)return;const r=q(e,n);switch(i.depth){case"value":r((u,s)=>t.$watch(u,s,!0));break;case"collection":r((u,s)=>t.$watchCollection(u,s));break;case"reference":default:r((u,s)=>t.$watch(u,s));break}}function W(e,n){return e==="__ngvue_props__"&&d.default.isObject(n)}function q(e,n){return t=>{Object.keys(e).forEach(i=>{const r=u=>{W(i,u)?Object.keys(u).forEach(s=>{n[s]=u[s]}):n[i]=u};t(e[i],r)})}}const _={};function J(e){return _[e]||(_[e]={props:o.reactive({}),attrs:o.reactive({}),special:o.reactive({})}),_[e]}function Q(e,n,t,i,r){const u=Symbol("ngVueInstanceKey"),s=J(u),v=K(n,t),l=U(t,v),f=y(l.events,i),p=T(t.vDirectives,i);Object.assign(s.props,x(l.props,i)),Object.assign(s.attrs,x(l.attrs,i)),Object.assign(s.special,L(t,v));const h={depth:t.watchDepth};v("watchDepth"),M(l.props,s.props,i,h),M(l.attrs,s.attrs,i,h);let j=Z(n[0]),V=X(e,j,s,f,p);Y(V,r),V.mount(n[0]),i.$on("$destroy",()=>{V.unmount(),V._container&&d.default.element(V._container).remove(),V=null})}function X(e,n,t,i,r){return o.createApp({name:`NgVue-${e.name||"UnnamedComponent"}`,setup(){const u=o.ref(null);return o.onMounted(()=>{var s;n&&((s=u.value)==null||s.replaceChild(n,u.value))}),()=>{let s=o.h(e,$($($($({},t.props),t.attrs),t.special),i),()=>[o.h("span",{ref:u})]);if(r.length>0){const v=r.filter(l=>!!o.resolveDirective(l.name)).map(l=>[o.resolveDirective(l.name),l.value,l.arg,l.modifiers]);s=o.withDirectives(s,v)}return s}}})}function Y(e,n){const t=n.has("$ngVue")?n.get("$ngVue"):null;t&&(t.initNgVuePlugins(e),t.getVuePlugins().forEach(i=>e.use(i)),t.getInjectables().forEach(([i,r])=>e.provide(i,r)),Object.entries(t.getVueDirectives()).forEach(([i,r])=>e.directive(i,r)))}function Z(e){if(e.innerHTML.trim()){let n;if(e.children.length===0){const t=document.createElement("span");t.innerHTML=e.innerHTML.trim(),n=t}else n=e.children[0];return n}}function K(e,n){return t=>{const i=n.$attr[t];e.removeAttr(i)}}function A(e){return(n,t)=>{const i={restrict:"E",link(r,u,s){Q(n,u,s,r,e)}};return d.default.extend(i,t)}}A.$inject=["$injector"];function ee(e,n,t){return[e,["createVueComponent",i=>i(n,t)]]}class N{constructor(n){g(this,"$injector");g(this,"$get");g(this,"pluginHooks",[]);g(this,"pluginConfig",{});g(this,"injectables",[]);g(this,"nativeVuePlugins",[]);g(this,"nativeVueDirectives",{});this.$injector=n,this.$get=["$injector",t=>({initNgVuePlugins:r=>{const u=s=>{s(t,r)};this.callHooks(this.pluginHooks,u)},getInjectables:()=>this.injectables,getVuePlugins:()=>this.nativeVuePlugins,getVueDirectives:()=>this.nativeVueDirectives})]}get plugins(){return this.pluginConfig}provide(n,t){this.injectables.push([n,t])}use(n){this.nativeVuePlugins.push(n)}directive(n,t){this.nativeVueDirectives[n]=t}installNgVuePlugin(n){const{$name:t,$config:i,$plugin:r}=n();this.pluginHooks.push(r),this.pluginConfig[t]=i}callHooks(n,t){n&&n.forEach(i=>t(i))}}g(N,"$inject",["$injector"]);let E;function ne(){return E||(E=d.default.module("ngVue.plugins",[]).provider("$ngVue",["$injector",N])),E.name}let O;function te(){return O||(O=d.default.module("ngVue",[]).factory("createVueComponent",A)),O.name}c.ngVueComponent=ee,c.useNgVue=te,c.useNgVuePlugins=ne,Object.defineProperties(c,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
//# sourceMappingURL=main.js.map
