var ie=Object.defineProperty;var N=Object.getOwnPropertySymbols;var re=Object.prototype.hasOwnProperty,se=Object.prototype.propertyIsEnumerable;var w=(c,a,u)=>a in c?ie(c,a,{enumerable:!0,configurable:!0,writable:!0,value:u}):c[a]=u,m=(c,a)=>{for(var u in a||(a={}))re.call(a,u)&&w(c,u,a[u]);if(N)for(var u of N(a))se.call(a,u)&&w(c,u,a[u]);return c};var p=(c,a,u)=>(w(c,typeof a!="symbol"?a+"":a,u),u);(function(c,a){typeof exports=="object"&&typeof module!="undefined"?a(exports,require("angular"),require("vue")):typeof define=="function"&&define.amd?define(["exports","angular","vue"],a):(c=typeof globalThis!="undefined"?globalThis:c||self,a(c.ngVue3={},c.angular,c.Vue))})(this,function(c,a,u){"use strict";function k(e){return e&&typeof e=="object"&&"default"in e?e:{default:e}}var h=k(a);function C(e,t){return e&&h.default.isObject(e)?Object.keys(e).reduce((i,r)=>{const o=t.$eval(e[r]);return h.default.isFunction(o)?i[r]=function(){return t.$evalAsync(()=>o.apply(null,arguments))}:(i[r]=o,console.warn(`[ngVue] Bound a non-function as an event handler (${r})`)),i},{}):{}}function P(e,t){return e?Object.keys(e).reduce((i,r)=>(r==="__ngvue_props__"?Object.assign(i,t.$eval(e.__ngvue_props__)):i[r]=t.$eval(e[r]),i),{}):{}}function H(e){return e.constructor.name}const T={Object:e=>[e],Array:e=>e,String:e=>e.split(/\s*,\s*/g).filter(Boolean).map(t=>({name:t}))};function S(e,t){if(!e)return[];const n=t.$eval(e),i=T[H(n)];return i?i(n):[]}const x=["class","style"];function I(e,t){return x.reduce((n,i)=>(n[i]=e[i]||"",t(i),n),{})}const L=["vProps","vOn","vDirectives","watchDepth","ng",...x],R=new RegExp(`^(${L.join("|")})`,"i");function z(e){return Object.keys(e).filter(t=>{const n=R.test(t),i=t[0]==="$";return!(n||i)})}function B([e,...t]){return e.toLowerCase()+t.join("")}const D={vProps:"",vOn:"on"};Object.freeze(D);function F(e,t){const n=new RegExp(`^${t}`,"i");if(!n.test(e))return null;const i=e.replace(n,D[t]);return B(i)}const j={props:"vProps",on:"vOn"};Object.freeze(j);function G(e){return e in j}function b(e,t,n){let i=[],r,o,s={};if(G(e)){r=j[e];const l=t[r];l!==void 0&&(s.__ngvue_props__=l,n(r));const f=new RegExp(`^${r}.+`,"i");i=Object.keys(t).filter(d=>f.test(d)),o=(d,v)=>{const $=F(v,r);return $&&(d[$]=t[v],n(v)),d}}else i=z(t),o=(l,f)=>{const d=t.$attr[f];return l[d]=t[f]===""?`${f}`:t[f],n(f),l};return i.reduce(o,s)}function U(e,t){return{props:b("props",e,t)||{},events:b("on",e,t)||{},attrs:b("attrs",e,t)||{}}}function y(e,t,n,i={depth:"reference"}){if(!e)return;const r=q(e,t);switch(i.depth){case"value":r((o,s)=>n.$watch(o,s,!0));break;case"collection":r((o,s)=>n.$watchCollection(o,s));break;case"reference":default:r((o,s)=>n.$watch(o,s));break}}function W(e,t){return e==="__ngvue_props__"&&h.default.isObject(t)}function q(e,t){return n=>{Object.keys(e).forEach(i=>{const r=o=>{W(i,o)?Object.keys(o).forEach(s=>{t[s]=o[s]}):t[i]=o};n(e[i],r)})}}const _={};function J(e){return _[e]||(_[e]={props:u.reactive({}),attrs:u.reactive({}),special:u.reactive({})}),_[e]}function Q(e,t,n,i,r){const o=Symbol("ngVueInstanceKey"),s=J(o),g=K(t,n),l=U(n,g),f=C(l.events,i),d=S(n.vDirectives,i);Object.assign(s.props,P(l.props,i)),Object.assign(s.attrs,P(l.attrs,i)),Object.assign(s.special,I(n,g));const v={depth:n.watchDepth};g("watchDepth"),y(l.props,s.props,i,v),y(l.attrs,s.attrs,i,v);let $=Z(t[0]),V=X(e,$,s,f,d);Y(V,r),V.mount(t[0]),i.$on("$destroy",()=>{V.unmount(),V._container&&h.default.element(V._container).remove(),V=null})}function X(e,t,n,i,r){return u.createApp({name:`NgVue-${e.name||"UnnamedComponent"}`,setup(){const o=u.ref(null);return u.onMounted(()=>{var s,g;if(t)try{(g=(s=o.value)==null?void 0:s.parentElement)==null||g.replaceChild(t,o.value)}catch{console.error("Attempted to insert content into slot and something went wrong. Inserting content, especially angular content, into a components slot is not advisable. This is a pretty hacky implementation in ngVue. Open an issue at https://github.com/jaredmcateer/ngvue3/issues with details.")}}),()=>{let s=u.h(e,m(m(m(m({},n.props),n.attrs),n.special),i),()=>[u.h("span",{ref:o})]);if(r.length>0){const g=r.filter(l=>!!u.resolveDirective(l.name)).map(l=>[u.resolveDirective(l.name),l.value,l.arg,l.modifiers]);s=u.withDirectives(s,g)}return s}}})}function Y(e,t){const n=t.has("$ngVue")?t.get("$ngVue"):null;n&&(n.initNgVuePlugins(e),n.getVuePlugins().forEach(i=>e.use(i)),n.getInjectables().forEach(([i,r])=>e.provide(i,r)),Object.entries(n.getVueDirectives()).forEach(([i,r])=>e.directive(i,r)))}function Z(e){if(e.innerHTML.trim()){let t;if(e.children.length===0){const n=document.createElement("span");n.innerHTML=e.innerHTML.trim(),t=n}else t=e.children[0];return t}}function K(e,t){return n=>{const i=t.$attr[n];e.removeAttr(i)}}function A(e){return(t,n)=>{const i={restrict:"E",link(r,o,s){Q(t,o,s,r,e)}};return h.default.extend(i,n)}}A.$inject=["$injector"];function ee(e,t,n){return[e,["createVueComponent",i=>i(t,n)]]}class M{constructor(t){p(this,"$injector");p(this,"$get");p(this,"pluginHooks",[]);p(this,"pluginConfig",{});p(this,"injectables",[]);p(this,"nativeVuePlugins",[]);p(this,"nativeVueDirectives",{});this.$injector=t,this.$get=["$injector",n=>({initNgVuePlugins:r=>{const o=s=>{s(n,r)};this.callHooks(this.pluginHooks,o)},getInjectables:()=>this.injectables,getVuePlugins:()=>this.nativeVuePlugins,getVueDirectives:()=>this.nativeVueDirectives})]}get plugins(){return this.pluginConfig}provide(t,n){this.injectables.push([t,n])}use(t){this.nativeVuePlugins.push(t)}directive(t,n){this.nativeVueDirectives[t]=n}installNgVuePlugin(t){const{$name:n,$config:i,$plugin:r}=t();this.pluginHooks.push(r),this.pluginConfig[n]=i}callHooks(t,n){t&&t.forEach(i=>n(i))}}p(M,"$inject",["$injector"]);let E;function te(){return E||(E=h.default.module("ngVue.plugins",[]).provider("$ngVue",["$injector",M])),E.name}let O;function ne(){return O||(O=h.default.module("ngVue",[]).factory("createVueComponent",A)),O.name}c.ngVueComponent=ee,c.useNgVue=ne,c.useNgVuePlugins=te,Object.defineProperties(c,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
//# sourceMappingURL=main.js.map
